!function(){"use strict";angular.module("virtual-center",["ui.router","ngSanitize","ngAnimate","ngAria","ngMaterial"])}(),function(){"use strict";function n(n,e){var t=n.extendPalette("blue",{100:"#E0F2FA",200:"#AFDDF3",300:"#71C3E9",400:"#57B7E5",500:"#3CACE1",600:"#22A1DC",700:"#1E8DC2",800:"#1A7AA7",900:"#16678D",A100:"#AFDDF3",A200:"#3CACE1",A400:"#57B7E5",A700:"#1E8DC2"});n.definePalette("blueVC",t),n.theme("default").primaryPalette("grey").accentPalette("blueVC").warnPalette("red"),e.icon("add","/contactNetConfig/assets/icons/add.svg").icon("arrow_downward","/contactNetConfig/assets/icons/arrow_downward.svg").icon("arrow_upward","/contactNetConfig/assets/icons/arrow_upward.svg").icon("menu","/contactNetConfig/assets/icons/menu.svg").icon("more_vert","/contactNetConfig/assets/icons/more_vert.svg").icon("contactnets","/contactNetConfig/assets/icons/contactnets.svg").icon("channels","/contactNetConfig/assets/icons/channels.svg").icon("rules","/contactNetConfig/assets/icons/rules.svg").icon("twitter","/contactNetConfig/assets/icons/twitter.svg").icon("mail","/contactNetConfig/assets/icons/mail.svg").icon("message","/contactNetConfig/assets/icons/message.svg").icon("phone","/contactNetConfig/assets/icons/phone.svg").icon("shape","/contactNetConfig/assets/icons/shape.svg").icon("insert","/contactNetConfig/assets/icons/insert-drive-file.svg").icon("edit","/contactNetConfig/assets/icons/edit.svg").icon("delete","/contactNetConfig/assets/icons/delete.svg")}n.$inject=["$mdThemingProvider","$mdIconProvider"],angular.module("virtual-center").config(n)}(),function(){"use strict";function n(n,e,t,c,a,o,r,i){function s(){var n=arguments;return function(){c(n[0]).toggle()}}e.toggleLeft=s("left"),e.menu={},e.cnNavigate=o,e.environment={},n.fab={isOpen:!1,trigger:{icon:"add",action:function(){}},actions:[]},e.isOpenLeft=function(){return c("left").isOpen()},a.get().then(function(){console.log("arguments",arguments[0]),e.menu=arguments[0]}),n.$on("$stateChangeSuccess",function(){switch(n.fab.isOpen=!1,n.fab.actions=[],arguments[1].url){case"/contactnets":e.selectedIndex=0,e.environment.actualSection="ContactNets";break;case"/channels":e.selectedIndex=1,e.environment.actualSection="Canales";break;case"/rules":e.selectedIndex=2,e.environment.actualSection="Reglas"}})}n.$inject=["$rootScope","$scope","$timeout","$mdSidenav","$cnMenu","$cnNavigate","$location","$interval"],angular.module("virtual-center").controller("appController",n)}(),function(){"use strict";function n(n,e){n.state("contactnets",{"abstract":!0,templateUrl:"/contactNetConfig/layout.html"}).state("contactnets.contatNetConfig",{url:"/contactnets",templateUrl:"/contactNetConfig/modules/contactNets/contactNets.html",controller:"contactNetsController"}).state("contactnets.channels",{url:"/channels",templateUrl:"/contactNetConfig/modules/channels/channels.html",controller:"channelsController"}).state("contactnets.rules",{url:"/rules",templateUrl:"/contactNetConfig/modules/rules/rules.html",controller:"rulesController"}),e.otherwise("/contactnets")}n.$inject=["$stateProvider","$urlRouterProvider"],angular.module("virtual-center").config(n)}(),function(){"use strict";function n(n,e,t,c,a){function o(){c.channels.unshift({multimedia:"Nuevo Phone",downloadedData:!0,openCard:!0,multimediaId:(new Date).getTime(),channelId:1,configModificable:!1})}function r(){c.channels.unshift({multimedia:"Nuevo Chat",downloadedData:!0,openCard:!0,multimediaId:(new Date).getTime(),channelId:2,configModificable:!1})}function i(){c.channels.unshift({multimedia:"Nuevo Mail",downloadedData:!0,openCard:!0,multimediaId:(new Date).getTime(),channelId:3,configModificable:!1})}function s(){n.fab.isOpen=!0}function u(){console.log(arguments[0])}e.contactNets=[],e.$cnChannels=c,e.save=u,e.openFab=s,n.fab.trigger.action=function(){},n.fab.actions=[{icon:"phone",action:o},{icon:"message",action:r},{icon:"mail",action:i}],c.get().then(function(){})}n.$inject=["$rootScope","$scope","$cnContactNets","$cnChannels","$filter"],angular.module("virtual-center").controller("channelsController",n)}(),function(){"use strict";function n(n,e){n.contactNetsService=e,e.get().then(function(){e.contactNets=arguments[0]})}n.$inject=["$scope","$cnContactNets"],angular.module("virtual-center").controller("contactNetsController",n)}(),function(){"use strict";function n(n,e,t,c,a){function o(){arguments[0].routingRules.push({name:"nueva regla",openCard:!0,destinations:[],rules:[]})}function r(){console.log("ar"),c.rules.unshift({id:(new Date).getTime(),name:"Nuevo grupo de reglas",downloadedData:!0,openCard:!0,configModificable:!1,vocabulary:[],routingRules:[]})}function i(){console.log(arguments[0])}e.contactNets=[],e.$cnRules=c,n.fab.trigger.action=r,e.addNew=r,e.addRoutingRule=o,e.save=i,c.get().then(function(){})}n.$inject=["$rootScope","$scope","$cnContactNets","$cnRules","$filter"],angular.module("virtual-center").controller("rulesController",n)}(),function(){"use strict";function n(n,e){function t(){var t=n.defer();return e.get("channels").then(function(){t.resolve(arguments[0])}),t.promise}function c(){var t=n.defer();return e.get("channelsId").then(function(){t.resolve(arguments[0])}),t.promise}var a=this;return a.channels=[],a.get=t,a.getById=c,a}n.$inject=["$q","$cnMocks"],angular.module("virtual-center").service("$cnChannels",n)}(),function(){"use strict";function n(n,e){function t(){var t=n.defer();return e.get("listContactNets").then(function(){t.resolve(arguments[0])}),t.promise}function c(){var t=n.defer();return e.get("contactNetId").then(function(){t.resolve(arguments[0])}),t.promise}var a=this;return a.contactNets=[],a.get=t,a.getById=c,a}n.$inject=["$q","$cnMocks"],angular.module("virtual-center").service("$cnContactNets",n)}(),function(){"use strict";function n(n,e){function t(){var t=n.defer();return a?t.resolve(a):e.get("languages").then(function(){a=arguments[0],t.resolve(a)}),t.promise}var c=this,a=!1;return c.get=t,c}n.$inject=["$q","$cnMocks"],angular.module("virtual-center").service("$cnLanguages",n)}(),function(){"use strict";function n(n,e){function t(){var t=n.defer();return a?t.resolve(a):e.getById("menu","MENU").then(function(){a=arguments[0],t.resolve(a)}),t.promise}var c=this,a=!1;return c.get=t,c}n.$inject=["$q","$cnMocks"],angular.module("virtual-center").service("$cnMenu",n)}(),function(){"use strict";function n(n,e){function t(){var t=n.defer();return e.get("rules").then(function(){t.resolve(arguments[0])}),t.promise}function c(){var t=n.defer();return e.get("rulesId").then(function(){t.resolve(arguments[0])}),t.promise}var a=this;return a.rules=[],a.get=t,a.getById=c,a}n.$inject=["$q","$cnMocks"],angular.module("virtual-center").service("$cnRules",n)}(),function(){"use strict";function n(n){function e(n,e,t,c){}function t(n){}t.$inject=["$scope"];var c={restrict:"EA",scope:!1,link:e,templateUrl:"modules/contactNets/directives/cnContactNetChatCardChannelConfiguration/cnContactNetChatCardChannelConfiguration.html",controller:t};return c}n.$inject=["$cnContactNets"],angular.module("virtual-center").directive("cnContactNetChatCardChannelConfiguration",n)}(),function(){"use strict";function n(n){function e(n,e,t,c){}function t(n){}t.$inject=["$scope"];var c={restrict:"EA",scope:!1,link:e,templateUrl:"modules/contactNets/directives/cnContactNetMailCardChannelConfiguration/cnContactNetMailCardChannelConfiguration.html",controller:t};return c}n.$inject=["$cnContactNets"],angular.module("virtual-center").directive("cnContactNetMailCardChannelConfiguration",n)}(),function(){"use strict";function n(n){function e(n,e,t,c){}function t(n){}t.$inject=["$scope"];var c={restrict:"EA",scope:!1,link:e,templateUrl:"modules/contactNets/directives/cnContactNetTwitterCardChannelConfiguration/cnContactNetTwitterCardChannelConfiguration.html",controller:t};return c}n.$inject=["$cnContactNets"],angular.module("virtual-center").directive("cnContactNetTwitterCardChannelConfiguration",n)}(),function(){"use strict";function n(n){function e(n,e,t,c){}function t(n){}t.$inject=["$scope"];var c={restrict:"EA",link:e,templateUrl:"modules/contactNets/directives/cnContactNetVoiceCardChannelConfiguration/cnContactNetVoiceCardChannelConfiguration.html",controller:t};return c}n.$inject=["$cnContactNets"],angular.module("virtual-center").directive("cnContactNetVoiceCardChannelConfiguration",n)}(),function(){"use strict";function n(n){function e(e,t,c,a){function o(){console.log("lasldglasdg",n.contactNets),n.contactNets.splice(0,0,{id:r(1,50),description:"Nuevo ContactNet",queueType:"BOTH",isACD:1,openCard:!0,modificable:!0,channels:{1:1,2:2,3:3}}),n.getById().then(function(){n.contactNets[0].contactNetInfo=arguments[0]})}function r(){return Math.floor(Math.random()*arguments[1])+arguments[0]}t.on("click",o)}var t={restrict:"EA",scope:{},link:e};return t}n.$inject=["$cnContactNets"],angular.module("virtual-center").directive("cnCreateContactNet",n)}(),function(){"use strict";function n(n){function e(e,t,c,a){function o(){console.log("lasldglasdg",n.rules),n.rules.splice(0,0,{id:r(1,50),description:"Nueva Regla",openCard:!0,modificable:!0}),n.getById().then(function(){n.rules[0].RuleInfo=arguments[0]})}function r(){return Math.floor(Math.random()*arguments[1])+arguments[0]}t.on("click",o)}var t={restrict:"EA",scope:{},link:e};return t}n.$inject=["$cnRules"],angular.module("virtual-center").directive("cnCreateRule",n)}(),function(){"use strict";function n(n){function e(e,t,c,a){function o(){n.path(c.cnNavigate),e.$apply()}t.css("cursor","pointer"),t.on("click",o)}var t={restrict:"A",scope:{cnNavigate:"@"},link:e};return t}function e(n){function e(){arguments[0]&&n.path(arguments[0])}var t=this;t.path=e}n.$inject=["$cnNavigate"],e.$inject=["$location"],angular.module("virtual-center").directive("cnNavigate",n).service("$cnNavigate",e)}(),function(){"use strict";function n(n){function e(e,t,c,a){function o(){"button"!==arguments[0].target.localName&&angular.forEach(n.channels,function(){var t=arguments;t[0].channelId==e.channel.channelId&&(n.channels[t[1]].downloadedData?n.channels[t[1]].openCard=!n.channels[t[1]].openCard:(n.channels[t[1]].openCard=!n.channels[t[1]].openCard,n.getById().then(function(){n.channels[t[1]]=arguments[0][0],n.channels[t[1]].downloadedData=!0,n.channels[t[1]].openCard=!n.channels[t[1]].openCard,console.log(n.channels,n.channels[t[1]])})),e.$apply())})}t.on("click",o)}var t={restrict:"EA",scope:{channel:"=cnChannelInfo"},link:e};return t}n.$inject=["$cnChannels"],angular.module("virtual-center").directive("cnOpenChannels",n)}(),function(){"use strict";function n(n){function e(e,t,c,a){function o(){var t=e.contactNet;angular.forEach(n.contactNets,function(){var c=arguments;c[0].id==t.id&&(n.contactNets[c[1]].contactNetInfo?(n.contactNets[c[1]].contactNetInfo=null,n.contactNets[c[1]].openCard=!n.contactNets[c[1]].openCard):(n.contactNets[c[1]].openCard=!n.contactNets[c[1]].openCard,n.getById().then(function(){console.log(arguments[0]),n.contactNets[c[1]].contactNetInfo=arguments[0]})),e.$apply())})}t.on("click",o)}var t={restrict:"EA",scope:{contactNet:"=cnContactNetInfo"},link:e};return t}n.$inject=["$cnContactNets"],angular.module("virtual-center").directive("cnOpenContactNets",n)}(),function(){"use strict";function n(n){function e(e,t,c,a){function o(){"button"!==arguments[0].target.localName&&angular.forEach(n.rules,function(){var t=arguments;t[0].id==e.rule.id&&(n.rules[t[1]].downloadedData?n.rules[t[1]].openCard=!n.rules[t[1]].openCard:(n.rules[t[1]].openCard=!n.rules[t[1]].openCard,n.getById().then(function(){n.rules[t[1]]=arguments[0][0],n.rules[t[1]].downloadedData=!0,n.rules[t[1]].openCard=!n.rules[t[1]].openCard,console.log(n.rules,n.rules[t[1]])})),e.$apply())})}t.on("click",o)}var t={restrict:"EA",scope:{rule:"=cnRuleInfo"},link:e};return t}n.$inject=["$cnRules"],angular.module("virtual-center").directive("cnOpenRules",n)}(),function(){"use strict";function n(n,e,t){function c(){var n=e.defer(),c=arguments;return t(function(){var e=[];angular.forEach(u.bbdd[c[0]],function(){e.push(arguments[0])}),n.resolve(e)},r(200,500)),n.promise}function a(){var n=e.defer(),c=arguments;return t(function(){n.resolve(u.bbdd[c[0]][c[1]]||!1)},r(200,500)),n.promise}function o(){var n=e.defer(),c=arguments;return t(function(){if(void 0===c[2]){var e=r(1e3,9999);c[1].id=e,n.resolve(u.bbdd[c[0]][e]=c[1])}else n.resolve(u.bbdd[c[0]][c[2]]=c[1])},r(300,500)),n.promise}function r(){return Math.floor(Math.random()*arguments[1])+arguments[0]}function i(){for(var e=0;e<s.length;e++)!function(e){var t=arguments;n.get("/contactNetConfig/modules/core/services/mocks/json/"+t[0]+".json").success(function(){u.bbdd[t[0]]=arguments[0]})}(s[e])}var s=["menu","listContactNets","contactNetId","channels","rules","rulesId","languages","channels","channelsId"],u=this;return u.bbdd={},u.get=c,u.getById=a,u.set=o,i(),u}n.$inject=["$http","$q","$timeout"],angular.module("virtual-center").service("$cnMocks",n)}(),function(){"use strict";function n(n,e){function t(n,e,t,c){function a(){console.log(t)}a()}var c={restrict:"EA",scope:{rule:"=cnRule",vocabulary:"=cnVocabulary"},templateUrl:"modules/rules/directives/categorization/categorization.html",link:t};return c}n.$inject=["$cnLanguages","$filter"],angular.module("virtual-center").directive("cnCategorization",n)}(),function(){"use strict";function n(n){function e(n,e,t,c){}function t(n){function e(){arguments[0].rules.push({evaluationMode:"1",type:"21",data:[{Category_Id:"2",Description:"Alta Orange"}],multiRule:!0})}n.addCategorization=e}t.$inject=["$scope"];var c={restrict:"EA",scope:{routingRule:"=cnRoutingRules",channelId:"=cnChannelId",vocabulary:"=cnVocabulary"},link:e,templateUrl:"modules/rules/directives/routingRules/routingRules.html",controller:t};return c}n.$inject=["$cnRules"],angular.module("virtual-center").directive("cnRoutingRules",n)}(),function(){"use strict";function n(n,e){function t(t,c,a,o){function r(){var n=angular.copy(arguments[0]);n.selected?(delete n.selected,t.rule.rules[s].data.push(n)):angular.forEach(t.rule.rules[s].data,function(){arguments[0].Language_Id==n.Language_Id&&t.rule.rules[s].data.splice(arguments[1],1)})}function i(){n.get().then(function(){t.languages=arguments[0],angular.forEach(t.languages,function(){var n=angular.copy(e("filter")(t.rule.rules[s].data,{Language_Id:arguments[0].Language_Id}));n.length?t.languages[arguments[1]].selected=!0:t.languages[arguments[1]].selected=!1})}),angular.forEach(t.rule.rules,function(){20==arguments[0].type&&(s=arguments[1])}),s===!1&&(s=t.rule.rules.length,t.rule.rules.push({evaluationMode:"1",type:"20",data:[],multiRule:!0}))}t.languages=[],t.toggleLanguage=r;var s=!1;i()}var c={restrict:"EA",scope:{rule:"=cnRule"},templateUrl:"modules/rules/directives/selectLanguages/selectLanguages.html",link:t};return c}n.$inject=["$cnLanguages","$filter"],angular.module("virtual-center").directive("cnSelectLanguages",n)}(),function(){"use strict";function n(n,e){function t(t,c,a,o){function r(){var n=[];angular.forEach(t.rule.destinations,function(){var t=angular.copy(e("filter")(u,{id:arguments[0]}));t.length&&(t[0].selected=!0,n.push(t[0]))}),angular.forEach(u,function(){~t.rule.destinations.indexOf(arguments[0].id)||n.push(arguments[0])}),t.contactNets=n}function i(){arguments[0].selected?t.rule.destinations.push(arguments[0].id):t.rule.destinations.splice(t.rule.destinations.indexOf(arguments[0].id),1),r()}function s(){var n=(arguments,t.rule.destinations.indexOf(arguments[0].id));t.rule.destinations.splice(n,1),arguments[1]?t.rule.destinations.splice(n-1,0,arguments[0].id):t.rule.destinations.splice(n+1,0,arguments[0].id),r()}var u=[];t.contactNets=[],t.moveContactNet=s,t.selectCN=i,n.get().then(function(){u=arguments[0],r()})}var c={restrict:"EA",scope:{rule:"=cnRule",channelId:"=cnChannelId"},templateUrl:"modules/rules/directives/selectOrderContactNet/selectOrderContactNet.html",link:t};return c}n.$inject=["$cnContactNets","$filter"],angular.module("virtual-center").directive("cnSelectOrderContactNet",n)}();